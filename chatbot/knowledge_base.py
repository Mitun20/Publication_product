PROJECT_KNOWLEDGE = {
   # AUTHOR SECTION
   "hallo": "Hello! I am your assistant. Please specify a role and your question.",
   "author work flow": """
   AUTHOR COMPLETE WORKFLOW:

   1. Submission Flow:
      - Login/register → 'Start New Submission' → 'Begin New Submission'

   2. Step 1: Title, Category & Abstract
      - Enter title and abstract
      - Select manuscript category
      - Click 'Save and Continue'

   3. Step 2: File Upload
      - Read instructions
      - Choose file and add article type
      - For multiple files: 'Add File'
      - Verify and click 'Upload Files'

   4. Step 3: Keywords
      - Add multiple keywords
      - Click 'Save and Continue'

   5. Step 4: Authors & Affiliation
      - Add co-authors (Name, Email, Affiliation)
      - Click 'Save and Continue'

   6. Step 5: Details & Comments
      - Enter cover letter
      - Answer remaining questions
      - Click 'Save and Continue'

   7. Step 6: Review & Submit
      - System shows missing fields
      - Verify details → 'View Proof'
      - 'I have viewed the proof' → 'Submit'
      - Confirmation email sent
   """,
   "author complete flow": """
   AUTHOR COMPLETE WORKFLOW:

   1. Submission Flow:
      - Login/register → 'Start New Submission' → 'Begin New Submission'

   2. Step 1: Title, Category & Abstract
      - Enter title and abstract
      - Select manuscript category
      - Click 'Save and Continue'

   3. Step 2: File Upload
      - Read instructions
      - Choose file and add article type
      - For multiple files: 'Add File'
      - Verify and click 'Upload Files'

   4. Step 3: Keywords
      - Add multiple keywords
      - Click 'Save and Continue'

   5. Step 4: Authors & Affiliation
      - Add co-authors (Name, Email, Affiliation)
      - Click 'Save and Continue'

   6. Step 5: Details & Comments
      - Enter cover letter
      - Answer remaining questions
      - Click 'Save and Continue'

   7. Step 6: Review & Submit
      - System shows missing fields
      - Verify details → 'View Proof'
      - 'I have viewed the proof' → 'Submit'
      - Confirmation email sent
   """,
   # Multiple keys for the same value
   "author workflow": """
   AUTHOR COMPLETE WORKFLOW:

   1. Submission Flow:
      - Login/register → 'Start New Submission' → 'Begin New Submission'

   2. Step 1: Title, Category & Abstract
      - Enter title and abstract
      - Select manuscript category
      - Click 'Save and Continue'

   3. Step 2: File Upload
      - Read instructions
      - Choose file and add article type
      - For multiple files: 'Add File'
      - Verify and click 'Upload Files'

   4. Step 3: Keywords
      - Add multiple keywords
      - Click 'Save and Continue'

   5. Step 4: Authors & Affiliation
      - Add co-authors (Name, Email, Affiliation)
      - Click 'Save and Continue'

   6. Step 5: Details & Comments
      - Enter cover letter
      - Answer remaining questions
      - Click 'Save and Continue'

   7. Step 6: Review & Submit
      - System shows missing fields
      - Verify details → 'View Proof'
      - 'I have viewed the proof' → 'Submit'
      - Confirmation email sent
   """,
   "author submission flow": """
   AUTHOR COMPLETE WORKFLOW:

   1. Submission Flow:
      - Login/register → 'Start New Submission' → 'Begin New Submission'

   2. Step 1: Title, Category & Abstract
      - Enter title and abstract
      - Select manuscript category
      - Click 'Save and Continue'

   3. Step 2: File Upload
      - Read instructions
      - Choose file and add article type
      - For multiple files: 'Add File'
      - Verify and click 'Upload Files'

   4. Step 3: Keywords
      - Add multiple keywords
      - Click 'Save and Continue'

   5. Step 4: Authors & Affiliation
      - Add co-authors (Name, Email, Affiliation)
      - Click 'Save and Continue'

   6. Step 5: Details & Comments
      - Enter cover letter
      - Answer remaining questions
      - Click 'Save and Continue'

   7. Step 6: Review & Submit
      - System shows missing fields
      - Verify details → 'View Proof'
      - 'I have viewed the proof' → 'Submit'
      - Confirmation email sent
   """,
   "author": {
      "overview": "Author can submit manuscripts and track their progress through the system.",
      "complete_flow": """
      AUTHOR COMPLETE WORKFLOW:

      1. Submission Flow:
         - Login/register → 'Start New Submission' → 'Begin New Submission'

      2. Step 1: Title, Category & Abstract
         - Enter title and abstract
         - Select manuscript category
         - Click 'Save and Continue'

      3. Step 2: File Upload
         - Read instructions
         - Choose file and add article type
         - For multiple files: 'Add File'
         - Verify and click 'Upload Files'

      4. Step 3: Keywords
         - Add multiple keywords
         - Click 'Save and Continue'

      5. Step 4: Authors & Affiliation
         - Add co-authors (Name, Email, Affiliation)
         - Click 'Save and Continue'

      6. Step 5: Details & Comments
         - Enter cover letter
         - Answer remaining questions
         - Click 'Save and Continue'

      7. Step 6: Review & Submit
         - System shows missing fields
         - Verify details → 'View Proof'
         - 'I have viewed the proof' → 'Submit'
         - Confirmation email sent
      """,
      "submission_flow": "Login/register → 'Start New Submission' → 'Begin New Submission'",
      "step1": "Title/Category/Abstract: Enter details, select category, click 'Save and Continue'",
      "step2": "File Upload: Read instructions, add files, verify, click 'Upload Files'",
      "step3": "Keywords: Add multiple keywords, click 'Save and Continue'",
      "step4": "Authors & Affiliation: Add co-authors' details, click 'Save and Continue'",
      "step5": "Details & Comments: Enter cover letter, answer questions, click 'Save and Continue'",
      "step6": "Review & Submit: Verify details, view proof, confirm and submit",
      "contact_admin": "Use the 'Contact Admin' button for queries"
   },
   # ADMIN SECTION
   "admin office": {
      "overview": "Admin manages submissions, checks plagiarism, and assigns manuscripts.",
      "complete_flow": """
      ADMIN COMPLETE WORKFLOW:
      
      1. Submitted Manuscripts:
         - Check format and plagiarism
         - Upload plagiarism report
         - Reject with comments or 'Assign AE'
      
      2. Rejected Manuscripts:
         - View rejection comments
      
      3. Accepted Manuscripts:
         - Send correction reports
         - After payment: 'Upload Corrected File'
      
      4. Manuscripts Under Review:
         - View in-progress reviews
      
      5. Manuscripts Waiting for Revision:
         - View pending reviewer assignments
      
      6. Overdue Manuscripts:
         - View past-due reviews
      
      7. Typesetting/Proofreading:
         - Upload final document
         - Mark as 'Proof Read Done'
      """,
      "submitted_flow": "Check format/plagiarism → Upload report → Reject or 'Assign AE'",
      "rejected_flow": "View rejected manuscripts with comments",
      "accepted_flow": "Send correction reports → After payment → 'Upload Corrected File'",
      "under_review": "View manuscripts currently being reviewed",
      "waiting_revision": "View manuscripts awaiting reviewers",
      "overdue": "View manuscripts past review due dates",
      "typesetting": "Upload final document → Author confirmation → 'Proof Read Done'"
   },
   # Multiple keys for the same value (admin office)
   "admin office workflow": """
   ADMIN COMPLETE WORKFLOW:
   
   1. Submitted Manuscripts:
      - Check format and plagiarism
      - Upload plagiarism report
      - Reject with comments or 'Assign AE'
   
   2. Rejected Manuscripts:
      - View rejection comments
   
   3. Accepted Manuscripts:
      - Send correction reports
      - After payment: 'Upload Corrected File'
   
   4. Manuscripts Under Review:
      - View in-progress reviews
   
   5. Manuscripts Waiting for Revision:
      - View pending reviewer assignments
   
   6. Overdue Manuscripts:
      - View past-due reviews
   
   7. Typesetting/Proofreading:
      - Upload final document
      - Mark as 'Proof Read Done'
   """,
   "admin office complete flow": """
   ADMIN COMPLETE WORKFLOW:
   
   1. Submitted Manuscripts:
      - Check format and plagiarism
      - Upload plagiarism report
      - Reject with comments or 'Assign AE'
   
   2. Rejected Manuscripts:
      - View rejection comments
   
   3. Accepted Manuscripts:
      - Send correction reports
      - After payment: 'Upload Corrected File'
   
   4. Manuscripts Under Review:
      - View in-progress reviews
   
   5. Manuscripts Waiting for Revision:
      - View pending reviewer assignments
   
   6. Overdue Manuscripts:
      - View past-due reviews
   
   7. Typesetting/Proofreading:
      - Upload final document
      - Mark as 'Proof Read Done'
   """,
   "admin basic flow": "Check format/plagiarism → Upload report → Reject or 'Assign AE'",

   # ASSOCIATE EDITOR SECTION
   "associate editor": {
      "overview": "AE manages review process and makes recommendations.",
      "complete_flow": """
      ASSOCIATE EDITOR COMPLETE WORKFLOW:
      
      1. Manuscripts to Review:
         - 'Invite' reviewers
         - 'Reject' manuscript
         - View plagiarism report
      
      2. Manuscripts with Review Reports:
         - View reviewer comments
         - Contact reviewers
         - 'Recommend' manuscript
      
      3. Manuscripts Under Review:
         - View assigned reviewers' progress
      
      4. Manuscripts to EIC:
         - After recommendation → Goes to Editor-in-Chief
      """,
      "to_review": "'Invite' reviewers, 'Reject', or view plagiarism report",
      "with_reports": "View comments, contact reviewers, 'Recommend'",
      "under_review": "View assigned reviewers' progress",
      "to_eic": "After recommendation → Goes to Editor-in-Chief"
   },
   # Multiple keys for the same value (associate editor)
   "associate editor workflow": """
   ASSOCIATE EDITOR COMPLETE WORKFLOW:
   
   1. Manuscripts to Review:
      - 'Invite' reviewers
      - 'Reject' manuscript
      - View plagiarism report
   
   2. Manuscripts with Review Reports:
      - View reviewer comments
      - Contact reviewers
      - 'Recommend' manuscript
   
   3. Manuscripts Under Review:
      - View assigned reviewers' progress
   
   4. Manuscripts to EIC:
      - After recommendation → Goes to Editor-in-Chief
   """,
   "associate editor complete flow": """
   ASSOCIATE EDITOR COMPLETE WORKFLOW:
   
   1. Manuscripts to Review:
      - 'Invite' reviewers
      - 'Reject' manuscript
      - View plagiarism report
   
   2. Manuscripts with Review Reports:
      - View reviewer comments
      - Contact reviewers
      - 'Recommend' manuscript
   
   3. Manuscripts Under Review:
      - View assigned reviewers' progress
   
   4. Manuscripts to EIC:
      - After recommendation → Goes to Editor-in-Chief
   """,

   # REVIEWER SECTION
   "reviewer": {
      "overview": "Reviewer evaluates manuscripts and provides feedback.",
      "complete_flow": """
      REVIEWER COMPLETE WORKFLOW:
      
      1. Invitation Flow:
         - View/respond to invitations (Accept/Reject)
      
      2. Manuscripts to Review:
         - 'View PDF' to examine manuscript
         - 'Recommend' to submit comments
      
      3. Reviewed Manuscripts:
         - View your completed reviews
      """,
      "invitation": "View and respond to review invitations (Accept/Reject)",
      "to_review": "'View PDF' to examine, 'Recommend' to submit comments",
      "reviewed": "View your completed reviews"
   },
   # Multiple keys for the same value (reviewer)
   "reviewer workflow": """
   REVIEWER COMPLETE WORKFLOW:
   
   1. Invitation Flow:
      - View/respond to invitations (Accept/Reject)
   
   2. Manuscripts to Review:
      - 'View PDF' to examine manuscript
      - 'Recommend' to submit comments
   
   3. Reviewed Manuscripts:
      - View your completed reviews
   """,
   "reviewer complete flow": """
   REVIEWER COMPLETE WORKFLOW:
   
   1. Invitation Flow:
      - View/respond to invitations (Accept/Reject)
   
   2. Manuscripts to Review:
      - 'View PDF' to examine manuscript
      - 'Recommend' to submit comments
   
   3. Reviewed Manuscripts:
      - View your completed reviews
   """,

   # EDITOR-IN-CHIEF SECTION
   "editor in chief": {
      "overview": "EIC makes final decisions on manuscripts.",
      "complete_flow": """
      EDITOR-IN-CHIEF COMPLETE WORKFLOW:
      
      1. Manuscripts Waiting for Decision:
         - 'View' AE comments
         - 'View PDF' to examine manuscript
         - 'Make Decision' for final recommendation
      """,
      "waiting_decision": "'View' AE comments, 'View PDM', 'Make Decision'"
   },
   # Multiple keys for the same value (editor in chief)
   "editor in chief workflow": """
   EDITOR-IN-CHIEF COMPLETE WORKFLOW:
   
   1. Manuscripts Waiting for Decision:
      - 'View' AE comments
      - 'View PDF' to examine manuscript
      - 'Make Decision' for final recommendation
   """,
   "editor in chief complete flow": """
   EDITOR-IN-CHIEF COMPLETE WORKFLOW:
   
   1. Manuscripts Waiting for Decision:
      - 'View' AE comments
      - 'View PDF' to examine manuscript
      - 'Make Decision' for final recommendation
   """,

    # DEFAULT RESPONSE
    "default": "I can answer about author, admin, associate editor, reviewer, or editor-in-chief workflows. Please specify a role and question."
}

def get_answer(question):
    question = question.lower().strip()
    # First, check for direct keys (like "hallo")
    if question in PROJECT_KNOWLEDGE:
        return PROJECT_KNOWLEDGE[question]
    # Then, check for role and sub-question
    for role in ["author", "admin office", "associate editor", "reviewer", "editor in chief"]:
        if role in question:
            role_dict = PROJECT_KNOWLEDGE[role]
            for subkey in role_dict:
                if subkey in question:
                    return role_dict[subkey]
            return role_dict.get("overview", PROJECT_KNOWLEDGE["default"])
    return PROJECT_KNOWLEDGE["default"]