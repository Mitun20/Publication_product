PROJECT_KNOWLEDGE = {
    
   # === GENERAL/GREETINGS ===
    "hi": "Hello! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "hello":"Hello! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "hey":"Hello! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "greetings":"Hello! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "howdy":"Hello! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "help": "I assist with manuscript workflows. Examples: \n 'Author: How to submit?',\n 'Admin Office: Check plagiarism?',\n 'Associate Editor: Assign reviewer?',\n 'Reviewer: Submit Reviews?' or\n 'EIC: Make Decision?'.",
    "support": "I assist with manuscript workflows. Examples: 'Author: How to submit?', 'Admin Office: Check plagiarism?', 'Associate EIC: Assign reviewer?', 'Reviewer: Submit Reviews?' or 'EIC: Make Decision?'.",
    "guide me": "I assist with manuscript workflows. Examples: 'Author: How to submit?', 'Admin Office: Check plagiarism?', 'Associate EIC: Assign reviewer?', 'Reviewer: Submit Reviews?' or 'EIC: Make Decision?'.",
    "what can you do?": "I assist with manuscript workflows. Examples: 'Author: How to submit?', 'Admin Office: Check plagiarism?', 'Associate EIC: Assign reviewer?', 'Reviewer: Submit Reviews?' or 'EIC: Make Decision?'.",
    "ok":"You're welcome! Just let me know whenever you want to guide you through the process.",
    "okay":"You're welcome! Just let me know whenever you want to guide you through the process.",
    "thank you": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks a lot": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks a ton": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks for your help": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks for your assistance": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks for your support": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks for your guidance": "You're welcome! Just let me know whenever you want to guide you through the process.",
    "thanks for your help!": "You're welcome! Just let me know whenever you want to guide you through the process.",
    
    "good morning":"good morning! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "good afternoon":"good afternoon! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "good evening":"good evening! I am your assistant. Should you have any doubts or questions, please feel free to ask. If you're unsure how to explain your question, kindly specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC).",
    "good night":"good night! If you have any more questions in the future, feel free to ask.",
    "good day":"good day! I am your assistant. If you have any more questions in the future, feel free to ask.",
    "goodbye": "Goodbye! If you have any more questions in the future, feel free to ask. Have a great day!",
    "bye": "Goodbye! If you have any more questions in the future, feel free to ask. Have a great day!",
    "see you later": "Goodbye! If you have any more questions in the future, feel free to ask. Have a great day!",
    "see you soon": "Goodbye! If you have any more questions in the future, feel free to ask. Have a great day!",
    "see you next time": "Goodbye! If you have any more questions in the future, feel free to ask. Have a great day!",
    
    # jcs faq
    "is_jcs_peer_reviewed": "Yes, JCS operates a single-blind review process. Suitable papers are sent to a minimum of two independent expert reviewers to assess the quality. The Editor’s decision is final.",
    "types_of_papers_published": "JCS publishes the following types of articles: Original research paper, Short Reports, Case Studies, Review Paper, Literature Reviews, Conceptual Framework, Analytical and Simulation Models, and Technical Notes.",
    "issn_of_journal": "Yes, it has an ISSN. It is written at the top of the journal and also available on the home page of the journal website.",
    "print_version_available": "Yes, JCS Journal is published both online and in print versions.",
    "submit_more_than_one_paper": "Yes, you can submit more than one paper at a time.",
    "submission_deadlines": "There is no deadline for paper submission, so you can submit your manuscript at any time. As long as the submitted paper is peer-reviewed and accepted successfully, it will be published in the upcoming issue.",
    "how_to_submit_paper": "All papers should be submitted online through our journal website.",
    "send_only_abstract_for_review": "No, you have to send a full-length paper for the review process.",
    "paper_publication_charges": "Click here for Publication Charges.",
    "copyright_form_submission": "Copyright forms shall be accepted by JCS only if the submission is accepted for publication.",
    "hard_copy_provided": "Yes, after online publication, we send the hard copy of the Journal to all authors by speed post.",
    "acknowledgment_email_timing": "Paper submissions are normally acknowledged within 12 to 24 hours.",
    "review_time": "It depends on reviewer response. Generally, submitted papers may be reviewed within 15 days. It is advised not to submit the same article to multiple journals at the same time. You should wait for the review report.",
    "max_authors_in_paper": "Maximum 3 authors may be cited in a paper.",
    "submit_same_paper_multiple_journals": "No, it is advised not to submit the same article to multiple journals at the same time. You should wait for the review report.",
    "compulsory_journal_template": "Yes, you have to submit the paper in the journal paper template format, but the paper should be in MS Word file format.",
    "terms_conditions_to_withdraw_paper": "Terms and conditions are available on the ‘Authors Guidelines’ page. Please refer to the journal website. Paper cannot be withdrawn under any condition once it is accepted.",
    
    # jcm faqs
    "is_karpagam_jcm_peer_reviewed": "Yes, Karpagam JCM follows a single-blind review process. Selected papers are forwarded to a panel of experts to assess quality. The Editor’s decision is final.",
    "types_of_papers_published": "Karpagam JCM publishes original Research Papers, Case Studies, Literature Reviews, and Conceptual Frameworks.",
    "issn_available": "No, currently Karpagam JCM does not have an ISSN. Application is in process.",
    "print_version_available": "No, Karpagam JCM publishes articles only online.",
    "submit_more_than_one_paper": "Yes, you can submit more than one paper at a time.",
    "submission_deadlines": "There is no deadline for submission. Manuscripts can be submitted anytime and will be published if peer-reviewed and accepted.",
    "how_to_submit_paper": "All papers should be forwarded to the Editor's email address.",
    "abstract_only_submission": "No, authors must submit full-length papers for the review process.",
    "copyright_form_submission": "Copyright forms are accepted by the Editor only if the article is accepted for publication.",
    "acknowledgment_email_timing": "Submissions are normally acknowledged within 12 to 24 hours.",
    "max_authors_per_paper": "A maximum of 3 authors may be included in a paper.",
    "compulsory_journal_template": "Yes, authors must submit papers according to the journal's MS Word template format.",
    
    # ijam faqs
    "is_ijam_peer_reviewed": "Yes, IJAM operates a single-blind review process. Suitable papers are sent to a minimum of two independent expert reviewers to assess the quality. The Editor’s decision is final.",
    "types_of_papers_published": "IJAM publishes the following types of articles: Original Paper, Short Reports, Case Studies, Review Paper, Literature Reviews, Book Reviews, Conceptual Framework, Analytical and Simulation Models, and Technical Note.",
    "print_version_available": "Yes, IJAM Journal is published both online and in print versions.",
    "submit_more_than_one_paper": "Yes, you can submit more than one paper at a time.",
    "submission_deadlines": "There is no deadline for paper submission; you can submit your manuscript at any time. Accepted papers will be published in the upcoming issue.",
    "how_to_submit_paper": "All papers should be emailed to ijamkahe@gmail.com or addressed to The Editor in Chief, International Journal of Applied Mathematics, Karpagam University, Eachanari Post, Coimbatore-641 021, India.",
    "hard_copy_provided": "Yes, after online publication, a hard copy of the journal is sent to all authors by speed post.",
    "acknowledgment_email_timing": "Paper submissions are normally acknowledged within 12 to 24 hours.",
    "review time": "It depends on reviewer response. Generally, submitted papers may be reviewed within 15 days. It is advised not to submit the same article to multiple journals at the same time. You should wait for the review report.",
    
    # === AUTHOR-SPECIFIC ===
    "not have account": "If you need to create an author account, please click 'Register' in the top right corner. For other accounts (Admin Office, Reviewer, Editor-in-Chief, Associate Editor), please contact the admin at admin@gmail.com.",
    "have account":"please specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC)",
    "have an account":"please specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC)",
    "logined": "logined as who? please specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC)",
    "loged in": "logined as who? please specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC)",
    "author": """Authors can submit their papers here by following these steps:
                \n 1) Login/Register: Ensure you have an author account. If not, register first.
                \n 2) Begin New Submission: Click on the 'Begin New Submission' option.
                \n 3) Enter Title & Abstract: Provide the title and abstract of your paper.
                \n 4) Upload Files: Upload all necessary files, such as your manuscript and figures.
                \n 5) Add Keywords: Include relevant keywords for your paper.
                \n 6) Author Details: Enter details for all authors.
                \n 7) Cover Letter: Provide a cover letter.
                \n 8) Review & Submit: Review all entered information and then submit your paper.""",
                
    "account": "If you don’t have an author account, please register first. If you already have an account, please login.",
    

        
    "registered": "1)Verify that you are in 'Start New Submission' tab \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    
    # Submission Process
    
    "steps to submit a paper": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "manuscript submission process": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "what are the submission steps": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "how do i start a submission": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "how to submit a manuscript": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "how to submit a paper": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "how to submit a manuscript online": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    "How do I submit my article": "1) Login/Register \n 2) Click 'Begin New Submission' \n 3) Enter title/abstract \n 4) Upload files \n 5) Add keywords \n 6) Author details \n 7) Cover letter \n 8) Review & submit.",
    
    # File Upload
    "where to upload manuscript": "In Step 2 (File Upload), click 'Choose File'. Supported formats: PDF/DOCX. Use 'Add File' for multiple uploads.",
    "how to attach files": "In Step 2 (File Upload), click 'Choose File'. Supported formats: PDF/DOCX. Use 'Add File' for multiple uploads.",
    "file upload steps": "In Step 2 (File Upload), click 'Choose File'. Supported formats: PDF/DOCX. Use 'Add File' for multiple uploads.",
    "can i upload multiple files": "Yes! In Step 2, use 'Add File' for each additional document after the first upload.",
    "what formats are accepted": "Typically PDF, DOCX, or LaTeX files. Check the journal's guidelines for specifics.",

    # Co-authors
    "how to add co-authors": "In Step 4 (Authors & Affiliations), enter each author’s Name, Email, and Affiliation. Click 'Add Author' if needed.",
    "include collaborators": "In Step 4 (Authors & Affiliations), enter each author’s Name, Email, and Affiliation. Click 'Add Author' if needed.",
    "author affiliation steps": "In Step 4 (Authors & Affiliations), enter each author’s Name, Email, and Affiliation. Click 'Add Author' if needed.",

    # Post-Submission
    "can i edit after submission": "No direct edits post-submission. Contact the admin office for corrections.",
    "change manuscript after uploading": "No direct edits post-submission. Contact the admin office for corrections.",
    "fix errors in submitted paper": "No direct edits post-submission. Contact the admin office for corrections.",

    # === ADMIN-SPECIFIC ===
    "admin":"If you need to contact the admin, please use admin@gmail.com",
    "admin office": "In admin office which section you want to work? \n 1) Manuscripts submitted \n 2) Manuscripts with rejection \n 3) Manuscripts with acceptance \n 4) Manuscripts under review \n 5) Manuscripts waiting for revision \n 6) Manuscripts waiting for revision and overdue \n 7) Type setting and proof reading",
    "manuscripts submitted":"""
        •	All newly submitted manuscripts are displayed in this section.
        •	Check the format of each manuscript.
        •	Use an online plagiarism checker to test for plagiarism. After checking, upload the plagiarism report.
        •	If the manuscript format is incorrect or contains significant errors, you can reject it by clicking the “Reject” button and entering the reason in the comment box.
        •	If the manuscript meets the requirements, proceed by clicking “Assign AE”, select an Associate Editor (AE), and click “Assign.”
    """,
    "manuscripts with rejection":"""
    •	Rejected manuscripts are listed here.
    •	You can view the rejection comments and see which admin/editor rejected the manuscript
    """,
    "manuscripts under review":"""
    •	Manuscripts currently being reviewed by reviewers are shown in this section.
    """,
    "manuscripts waiting for revision":"""
    •	Manuscripts that are awaiting revisions will appear here
    """,
    "manuscripts waiting for revision and overdue":"""
    •	Manuscripts that are still waiting for revisions past their due date are shown in this section.
    """,
   "manuscripts with acceptance":"""
    •	Accepted manuscripts appear in this section.
    •	If any corrections are needed, you can send a correction request by clicking “Send Correction Report.”
    •	Corrections can only be processed after payment is completed.
    •	Once the author submits the corrected version, you can upload the final corrected file by clicking “Upload Corrected File.”
    """,
    "type setting and proof reading":"""
    •	Upload the updated and typeset file by clicking “Upload Type Set Document.”
    •	The system will automatically send the typeset file to the author via email.
    •	After the author confirms, complete the process by clicking “Proof Read Done.”
    """,

   # Plagiarism Check
   "how to check plagiarism": "Use an online plagiarism tool, then upload the report in the 'Manuscripts Submitted' section.",
   "run similarity test": "Use an online plagiarism tool, then upload the report in the 'Manuscripts Submitted' section.",
   "upload plagiarism report": "After generating the report, attach it to the manuscript in 'Manuscripts Submitted'.",
    "I need to export an Excel file": "Yes, there is an option to export an Excel file in the ‘Manuscripts with Acceptance’ tab. Click that to export the Excel file. It exports only the accepted papers.",
    "Type setting and Proof reading": "After the manuscript is accepted, you can upload the typeset document in the 'Type setting and Proof reading' section. Click 'Upload Typeset Document' and select the file.",
   
   # Rejecting Manuscripts
   "how to reject a paper": "Click 'Reject' in the selected paper's row, add comments, and notify the author.",
   "decline submission steps": "Click 'Reject' in the selected paper's row, add comments, and notify the author.",

   # Assigning Editors
   "how to assign ae": "Under 'Manuscripts Submitted', click 'Assign AE' and select an editor from the list.",
   "steps to select associate editor": "Under 'Manuscripts Submitted', click 'Assign AE' and select an editor from the list.",

   # === ASSOCIATE EDITOR (AE) ===
   "Associate Editor": "in associate editor which section you want to work? \n 1) Manuscripts to Review \n 2) Manuscripts with Review Reports \n 3) Manuscripts Under Review \n 4) Manuscripts to EIC.",
   "manuscripts to review":"""
    •	You can invite reviewers using the "Invite" button.
    •	You can reject a manuscript using the "Reject" button.
    •	You can view the plagiarism report and the manuscript.

   """,
   "manuscripts with review reports":"""
    •	You can view reviewers' comments.
    •	You can contact the reviewers who reviewed the manuscript.
    •	You can recommend the manuscript using the "Recommend" button.

   """,
    "manuscripts under review":"""
    •	Displays the manuscripts for which assigned reviewers have accepted the review invitation.
    """,
   "manuscripts to eic":"""
    •  	After you recommend a manuscript, it is forwarded to the Editor-in-Chief (EIC) and appears in this section.
   """,
   
   # Inviting Reviewers
   "how to invite reviewers": "Under 'Manuscripts to Review', click 'Invite' and select reviewers. They’ll receive an email.",
   "add referees to manuscript": "Under 'Manuscripts to Review', click 'Invite' and select reviewers. They’ll receive an email.",

   # Post-Review Actions
   "what to do after reviews": "Evaluate reviewer comments, then click 'Recommend' to send to the Editor-in-Chief (EIC).",
   "how to forward to eic": "Click 'Recommend' in 'Manuscripts with Review Reports' to send the manuscript to the EIC.",

   # === REVIEWER ===
   "reviewer":"in reviewer which section you want to work? \n 1) Invitation  \n 2) Manuscripts to Review  \n 3) Manuscripts Reviewed  ",
    "invitation":"""
    •	If an Associate Editor invites you to review a manuscript, the invitation will appear here.
    •	You can choose to Accept or Reject the invitation

    """,
    "manuscripts to review":"""
    •	Displays the manuscripts for which you have accepted the review invitation.
    •	Use the "View PDF" button to read the manuscript.
    •	Use the "Recommend" button to submit your review and comments.

    """,
    "manuscripts reviewed":"""
    •	Shows the manuscripts you have completed reviewing.
    """,
    
   # Accept/Decline Review
   "how to accept review request": "Under 'Invitation', click 'Accept'. You’ll see the manuscript in 'Manuscripts to Review'.",
   "decline to review": "Under 'Invitation', click 'Reject' to decline the review request.",

   # Submit Review
   "where to upload review comments": "Under 'Manuscripts to Review', click 'Recommend' to submit your comments.",
   "how to submit review": "Under 'Manuscripts to Review', click 'Recommend' to submit your comments.",
   
   # === EDITOR-IN-CHIEF (EIC) ===
   "editor-in-chief": "in editor in chief which section you want to work? \n 1) Manuscripts Waiting for Decision \n 2) Manuscripts with Decision",
   "eic": "in editor in chief which section you want to work? \n 1) Manuscripts Waiting for Decision \n 2) Manuscripts with Decision",
   "manuscripts waiting for decision":"""
    •	You can view the Associate Editor's comments and recommendations for the manuscript by clicking "View".
    •	To read the manuscript, use the "View PDF" button.
    •	To proceed with your decision on the manuscript, click "Make Decision".
	

   """,
   "manuscripts with decision":"""
    •	Displays the manuscripts for which you have made decisions.
   """,
   "how to make final decision": "Under 'Manuscripts Waiting for Decision', review AE/reviewer comments, then click 'Make Decision'.",
   "accept/reject manuscript steps": "Under 'Manuscripts Waiting for Decision', review AE/reviewer comments, then click 'Make Decision'.",
   "final decision process": "Under 'Manuscripts Waiting for Decision', review AE/reviewer comments, then click 'Make Decision'.",
   "finalize manuscript": "Under 'Manuscripts Waiting for Decision', review AE/reviewer comments, then click 'Make Decision'.",
   
   # === DEFAULT RESPONSE ===
   "default": "I am your assistant. Please specify your role (Author/Admin Office/Associate Editor/Reviewer/EIC) and question.",
}
def get_answer(question):
    question = question.lower().strip()
    
    # First check exact matches
    if question in PROJECT_KNOWLEDGE:
        return PROJECT_KNOWLEDGE[question]
    
    # Then check keyword matches
    keyword_map = {
        "hi": "hi",
        "hello": "hi",
        "hey": "hi",
        "greetings": "hi",
        "hallo": "hi",
        "howdy": "hi",
        "help": "help",
        "support": "help",
        "guide me": "help",
        "good morning": "hi",
        "registered": "registered",
        "okay": "ok",
        "ok": "ok",
        
        
    # Author keywords
        "author account": "author account",
        "submission process": "steps to submit a paper",
        "submit": "How do I submit my article",
        "publish": "How do I submit my article",
        "submission": "How do I submit my article",
        "upload file": "where to upload manuscript",
        "upload paper": "where to upload manuscript",
        "upload article": "where to upload manuscript",
        "file upload": "where to upload manuscript",
        "co-authors": "how to add co-authors",
        "edit submission": "can i edit after submission",
        "author":"author",
        "ok":"ok",
        "okay":"ok",
        "thank you": "thanks",
        "thanks": "thanks",
        "thanks a lot": "thanks",
        "thanks a ton": "thanks",
        "thanks for your help": "thanks",
        "thanks for your assistance": "thanks",
        "thanks for your support": "thanks",
        "thanks for your guidance": "thanks",

        "not have an author account": "not have account",
        "not have account": "not have account",
        "do not have an author account": "account",
        "do not have account": "not have account",
        "have an author account": "author",

        "logined as author": "author",
        "logined as admin office": "admin office",
        "logined as associate editor": "associate editor",
        "logined as reviewer": "reviewer",
        "logined as eic": "editor-in-chief",
        "loged in as author": "author",
        "loged in as admin office": "admin office",
        "loged in as associate editor": "associate editor",
        "loged in as reviewer": "reviewer",
        "loged in as eic": "editor-in-chief",
        "log in as author": "author",
        "log in as admin office": "admin office",
        "log in as associate editor": "associate editor",
        "log in as reviewer": "reviewer",
        "log in as eic": "editor-in-chief",

        # Admin keywords
        "plagiarism": "how to check plagiarism",
        "reject": "how to reject a paper",
        "decline": "how to reject a paper",
        "assign ae": "how to assign ae",
        "type setting": "Type setting and Proof reading",
        
        # Associate Editor keywords
        "invite reviewer": "how to invite reviewers",
        "add referee": "add referees to manuscript",
        "post review": "what to do after reviews",
        "forward to eic": "what to do after reviews",
        "recommend": "what to do after reviews",
        "submit review": "where to upload review comments",
        
        # Reviewer keywords
        "accept invitation": "accept review",
        "decline invitation": "decline to review",
        "reject invitation": "decline to review",
        
        # Editor keywords
        "decision": "make decision"
    }
    
    for keyword, response_key in keyword_map.items():
        if keyword in question:
            return PROJECT_KNOWLEDGE[response_key]
    
    # Fallback with suggestions
    return ("I can help with:\n"
            "- Submission questions (upload, status)\n"
            "- Review processes (Review, accept\Reject)\n"
            "- Editorial decisions\n\n"
           )